(function(a){a.fn.addOption=function(b){var c=a(this)[0];if(typeof c=="undefined")return;if(c.tagName!="SELECT")return;if(typeof b=="undefined")return;if(typeof b.value=="undefined"||typeof b.text=="undefined")return;var d="<option value="+b.value+">"+b.text+"</option>";a(this).append(d);return},a.fn.clearOptions=function(){var b=a(this)[0];if(typeof b=="undefined")return;if(b.tagName!="SELECT")return;a(this).text("");return},a.fn.getSelectedOptionValue=function(){var b=a(this)[0];if(typeof b=="undefined")return;if(b.tagName!="SELECT")return;return b.options.length==0?null:b[b.selectedIndex].value},a.fn.chained=function(b){var c=a(this);if(typeof b=="undefined")return;var d=b.targetId,e=b.url,f=b.autorun||!1,g={value:b.value||"0",text:b.text||"------"};if(typeof d=="undefined")return;if(typeof e=="undefined")return;a("#"+d).addOption(g),c.change(function(){var b=c.getSelectedOptionValue();a.get(e,{opt:b},function(c){a("#"+d).clearOptions(),a("#"+d).addOption(g);if(typeof c=="undefined"||typeof c!="object")return;if(typeof c.options=="object")for(i=0;i<c.options.length;i++)a("#"+d).addOption(c.options[i]);else if(typeof c.options=="undefined"&&typeof c[b]=="object"){var e=c[b];for(i=0;i<e.options.length;i++)a("#"+d).addOption(e.options[i])}else typeof c[b]!="undefined"},"json")}),f&&c.change()}})(jQuery)